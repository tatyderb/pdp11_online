# Немного о мини-ЭВМ PDP-11

lesson = 312211

## SKIP VIDEO

Видео

## Ассемблер и машинный код

Современные языки программирования - это языки высокого уровня. Python, Java, C++, C, Pascal и другие. Они ориентированы, чтобы их легко читал человек и быстро писал на них код. Написанный код программы не может быть запущен на компьютере сам по себе. Нужен или интерпретатор (python), или виртуальная машина (java), или нужно скомпилировать код в исполняемый модуль в компилируемых языках (c, c++, pascal, fortran и так далее).

Компьютер исполняет программу, которая написана в машинных кодах. Это наборы 0 и 1. Абсолютно не читаемо человеком. На самых первых компьютерах программировали именно в машинных кодах. Поэтому разработка программ была очень долгая и очень дорогая. Трудно было находить ошибки и документировать программу. Напоминает набор чисел в нашей задаче.

Промежуточный уровень - язык ассемблера. По идеологии он приближен к машинным кодам, оперирует низкоуровневыми терминами - регистрами, конкретными адресами в памяти. Напоминает программу с мнемониками в нашей задаче.

Ассемблеров много. Они разные, есть разные семейства ассемблеров. PDP-11 - самый простой из всех ассемблеров. Он очень логичный, в нем красивая система команд.

Мы не будем изучать ассемблер. Мы будем писать эмулятор, который выполняет байткод (числа), полученный из этого ассемблера (мнемоники). Процесс получения из ассемблерного кода байткод в курсе мы будем называть "компиляцией". 

## Компилируемые и интерпретируемые языки

Языки программирования делятся на интерпретируемые и компилируемые.

Если программа сразу разбирается и выполняется, то это **интерпретируемый язык**. Для её выполнения нужен интерпретатор языка. Пример такого языка: python, bash.

Если мы много раз запускаем программу, то на её разбор мы тратим время. Разумно разобрать её и перевести на понятный компьютеру для выполнения язык *один раз*. А потом быстро запускать полученный *исполняемый модуль*. Это **компилируемые языки**. Например, С, С++, Pascal, Fortran.

Есть гибриды. Язык Java может как исполняться на виртуальной java машине (интерпретатор), так и компилироваться предварительно в байткод для конкретной операционной системы.


## Зачем нужен эмулятор компьютера

Зачем вообще писать эмуляторы какого-то компьютера ("железа"), кроме желания прокачаться как программисту или получить зачет?

Представим, что мы разрабатываем новое "железо". Это может быть новый мобильный телефон или медицинское оборудование. Для того, чтобы оно работало, нужно написать программы. Но программировать на инженерных образцах программистам очень дорого, ибо стоимость инженерных образцов ("железа" в разработке) на несколько порядков превышает стоимость серийных изделий. Для этого пишут эмулятор разрабатываемого "железа" и прикладные программы пишут на этом эмуляторе.

Другой вариант - работающие прикладные программы на устаревшем "железе". Для обслуживания сталелитейного цеха написаны программы. Само оборудование будет работать долго, но его компьютерная часть устарела. Такое уже не производят. Тогда покупают новый компьютер и для него пишут эмулятор старого компьютера и запускают программы на этом эмуляторе.

Почему проще написать эмулятор, чем переписывать прикладные программы?

* Для написания программы управления оборудованием (сталелитейный цех, станки, конвейер) нужны знания не только программистов, но и инженеров прикладных специальностей например, металлургов. То есть придется заново собирать знания прикладных специалистов о том, как должно работать оборудование. Гораздо проще взять описание старого компьютера. Там уже написано как он должен работать.
* Цена ошибки в программе управления оборудованием очень велика. Отлаживать программу в работающем цеху грозит аварией в случае ошибки. Если мы ошибемся при написании эмулятора старого компьютера, мы просто перезапустим эмулятор, найдем ошибку и исправим её.

![литейный цех](https://img02.flagma.ru/photo/staleliteynoe-otdelenie-liteyny-ceh-litye-1841038_big.jpg) 

## Что будем делать

Как мы будем проверять, что написали правильно работающий эмулятор? Будет дан **эталонный эмулятор** и набор программ на ассемблере PDP-11. Можно будет запускать эти программы на эталонном эмуляторе и на вашем эмуляторе и сравнивать результат выполнения. Эти программы - наши тесты.

Если ваш эмулятор работает не так, как эталонный, считаем, что эталонный работает верно, а у вас ошибка, которую надо найти и исправить. Или вы еще не дописали нужную функциональность в своем эмуляторе.

В эмуляторе будем реализовывать не все команды, а [некоторое подмножество](https://stepik.org/lesson/347539/step/1) (если хотите, реализуйте все, но для получения зачета в срок достаточно реализовать только те команды, которые используются в тестах).

* Есть:
    * [краткое техническое задание](https://stepik.org/lesson/347539/step/4) на русском языке.
    * [эталонный эмулятор](https://stepik.org/lesson/347539/step/5)
    * программа для перевода из ассемблера PDP-11 в машинный код (дадим вместе с эталонным эмулятором),
    * [набор тестов](https://github.com/tatyderb/pdp11_tests)
* Надо:
    * написать интерпретатор (эмулятор) подмножества машинных команд компьютера PDP-11,
    * код разместить на github.com и вести разработку, используя систему контроля версий git.
    
## История PDP-11

Компьютер PDP-11 был очень популярным. Было много оригинальных моделей и его клонов.

Это **мини-ЭВМ**. "Мини" - потому что размером с холодильник. Супер-ЭВМ [БЭСМ-6](https://ru.wikipedia.org/wiki/%D0%91%D0%AD%D0%A1%D0%9C-6), например, занимала половину 3 этажа лабораторного корпуса МФТИ, где сейчас располагаются компьютерные классы, половину 1 этажа занимала другая супер-ЭВМ [ЕС-1020](https://ru.wikipedia.org/wiki/%D0%95%D0%A1_%D0%AD%D0%92%D0%9C)

![PDP-11](https://stepik.org/media/attachments/lesson/312211/220px-Pdp-11-40.jpg)

У них впервые появились векторные графические дисплеи. На этом видна одна из первых графических игр "Посадка на Луну"

![GT40](https://stepik.org/media/attachments/lesson/312211/220px-GT40_Lunar_Lander.jpg)

Программы хранились на магнитных лентах, стопках перфокарт или на бумажных лентах.

![Бумажная лента](https://stepik.org/media/attachments/lesson/312211/220px-Papertape.jpg)

Существовала *пленочная клавиатура* со съемными пленками. Для работы с медицинским приложением, например, можно было использовать клавиатуру, где на клавишах нанесены надписи для работы именно с этим приложением. Врачей не заставляли заучивать комбинации клавиш, надписи действий можно было расположить прямо на клавиатуре.

![Клавиатура](https://stepik.org/media/attachments/lesson/312211/keyboard.png)

В СССР и других странах СЭВ выпускались компьютеры, совместимые с PDP-11 по системе команд и частично по архитектуре.

Подробнее об истории и вкладе PDP-11 в развитие информатики можно прочесть в [статье на habr](https://habr.com/ru/post/435292/).


